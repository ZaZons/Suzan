const { SlashCommandBuilder } = require('@discordjs/builders');

module.exports = {
	data: new SlashCommandBuilder()
		.setName('online')
		.setDescription('Replies with all the online server members'),
	async execute(interaction) {
		const guild = interaction.guild;
		console.log('in the works, w8 a sec');
		await interaction.deferReply();
		guild.members.fetch().then(fetchedMembers => {
			const totalOnline = fetchedMembers.filter(member => member.presence.status === 'online');
			console.log(totalOnline);
			// Now you have a collection with all online member objects in the totalOnline variable
			console.log(`There are currently ${totalOnline.size} members online in this guild!`);
		});
		await interaction.editReply('done');
	},
};